# Koha Docker (v25.05 ready) üê≥üìö

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å **–ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–æ–±–æ—á—É** Docker-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è –∑–∞–ø—É—Å–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ—á–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ **Koha –≤–µ—Ä—Å—ñ—ó 25.05**.

–ü—Ä–æ—î–∫—Ç —î —Ñ–æ—Ä–∫–æ–º/–º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é —á—É–¥–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é [teogramm/koha-docker](https://github.com/teogramm/koha-docker.git), –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–∏–º –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ **Windows + WSL 2** (—Ö–æ—á–∞ —á—É–¥–æ–≤–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ —ñ –Ω–∞ —á–∏—Å—Ç–æ–º—É Linux).

![Koha Logo](https://koha-community.org/images/koha-logo-navbar.png)

---

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ –§—ñ—á—ñ

–¶—è –∑–±—ñ—Ä–∫–∞ Koha ‚Äî —Ü–µ —Å—É—á–∞—Å–Ω–∏–π, —à–≤–∏–¥–∫–∏–π —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.

* **–í–µ—Ä—Å—ñ—è Koha:** 25.05 (–≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ Debian).
* **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:** –ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω–∞ (Koha, –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö, –ü–æ—à—É–∫, –ö–µ—à, –ß–µ—Ä–≥–∏ ‚Äî –≤—Å–µ –≤ –æ–∫—Ä–µ–º–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö).
* **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:** Apache2 + **Plack (Starman)**. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–Ω–∞—á–Ω–æ –≤–∏—â—É —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑—ñ —Å—Ç–∞—Ä–∏–º CGI-—Ä–µ–∂–∏–º–æ–º.
* **–ü–æ—à—É–∫–æ–≤–∏–π —Ä—É—à—ñ–π:** **Elasticsearch 8.19.6** (–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º –ø–ª–∞–≥—ñ–Ω–æ–º `analysis-icu` –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –º–æ–≤–∞–º–∏).
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** MariaDB 11.
* **–ö–µ—à—É–≤–∞–Ω–Ω—è:** Memcached (–¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ —Å–µ—Å—ñ–π —Ç–∞ —Å–∏—Å—Ç–µ–º–∏).
* **–ß–µ—Ä–≥–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:** **RabbitMQ** (–∑ –ø–ª–∞–≥—ñ–Ω–æ–º STOMP). –ù–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è —Å—É—á–∞—Å–Ω–∏—Ö —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å Koha —Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

---

## üõ†Ô∏è –©–æ –±—É–ª–æ –∑–º—ñ–Ω–µ–Ω–æ –≤—ñ–¥–Ω–æ—Å–Ω–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É

–û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –±—É–≤ —á—É–¥–æ–≤–æ—é –±–∞–∑–æ—é, –∞–ª–µ –ø–æ—Ç—Ä–µ–±—É–≤–∞–≤ –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –¥–ª—è —Ä–æ–±–æ—Ç–∏ –Ω–∞ —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Koha —Ç–∞ –≤ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö —É–º–æ–≤–∞—Ö Windows/WSL.

**–í–Ω–µ—Å–µ–Ω—ñ –∫–ª—é—á–æ–≤—ñ –∑–º—ñ–Ω–∏:**

1.  **–ê–¥–∞–ø—Ç–∞—Ü—ñ—è –¥–ª—è Windows (WSL 2):**
    * –î–æ–¥–∞–Ω–æ —É—Ç–∏–ª—ñ—Ç—É `dos2unix` —É –ø—Ä–æ—Ü–µ—Å –∑–±—ñ—Ä–∫–∏. –í–æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–ª—è—î –ø—Ä–æ–±–ª–µ–º—É –∑ Windows-–∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è–º–∏ —Ä—è–¥–∫—ñ–≤ (CRLF) —É —Å–∫—Ä–∏–ø—Ç–∞—Ö, —á–µ—Ä–µ–∑ —è–∫—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ "–ø–∞–¥–∞–ª–∏" –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –Ω–∞ Windows-—Ö–æ—Å—Ç–∞—Ö.
2.  **–û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:**
    * –î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É **Elasticsearch 8.x** —ñ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è–º –æ–±–æ–≤'—è–∑–∫–æ–≤–æ–≥–æ –ø–ª–∞–≥—ñ–Ω–∞ `analysis-icu` –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏.
    * –û–Ω–æ–≤–ª–µ–Ω–æ –≤–µ—Ä—Å—ñ—ó –±–∞–∑–æ–≤–∏—Ö –æ–±—Ä–∞–∑—ñ–≤.
3.  **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (`docker-compose.yaml`):**
    * –î–æ–¥–∞–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω—ñ `healthcheck` (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤'—è) –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ RabbitMQ. –¶–µ –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É "–≥–æ–Ω–∫–∏", –∫–æ–ª–∏ Koha –Ω–∞–º–∞–≥–∞–ª–∞—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç–∏—Å—è —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –±—É–ª–∞ –≥–æ—Ç–æ–≤–∞.
    * –°–µ—Ä–≤—ñ—Å Koha —Ç–µ–ø–µ—Ä —á–µ–∫–∞—î –Ω–∞ –ø–æ–≤–Ω—É –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å (`service_healthy`) —ñ–Ω—à–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º.
    * –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞–≥—ñ–Ω—ñ–≤ RabbitMQ (—Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–±—É–¥–æ–≤–∞–Ω–∏–π –æ–±—Ä–∞–∑ –∑–∞–º—ñ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ—ó –ø–∞–ø–∫–∏, —â–æ —É–Ω–∏–∫–∞—î –ø—Ä–æ–±–ª–µ–º –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É –Ω–∞ Windows).
4.  **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ—è:**
    * –£—Å—ñ —Å–µ–∫—Ä–µ—Ç–∏ (–ø–∞—Ä–æ–ª—ñ, –Ω–∞–∑–≤–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö) –≤–∏–Ω–µ—Å–µ–Ω—ñ —É —Ñ–∞–π–ª `.env`, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –±–µ–∑–ø–µ—á–Ω—ñ—à–æ—é —Ç–∞ –≥–Ω—É—á–∫—ñ—à–æ—é.

---

## üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑—ñ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
* –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Docker Desktop** (–Ω–∞ Windows) –∞–±–æ Docker Engine (–Ω–∞ Linux).
* –Ø–∫—â–æ –≤–∏ –Ω–∞ Windows, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ **WSL 2** –±–µ–∫–µ–Ω–¥.

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone [https://github.com/–í–ê–®_–õ–û–ì–Ü–ù/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–Ü–ô.git](https://github.com/–í–ê–®_–õ–û–ì–Ü–ù/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–Ü–ô.git)
cd –í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–Ü–ô/examples